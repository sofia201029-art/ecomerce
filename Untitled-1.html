<form name="dadosPessoa" method="post">
    Nome: 
    <input type="text" id="nome" name="nome" value="">
    <br>
    Nascimento: 
    <input type="date" id="nascimento" name="nascimento" value="">
    <br>
    Telefone: 
    <input type="text" id="telefone" name="telefone" value="">
    <br>
    Endereço: 
    <input type="text" id="endereco" name="endereco" value="">
    <br>
    <input type="hidden" name="acao" value="inserir">
    <button onclick="cadastrar()">cadastrar</button>
</form>
<script>
var token = "token seu";
// Exemplo de requisição GET para listar pessoas
fetch("https://crudcrud.com/api/"+token+"/pessoas")
.then(response => response.json())
.then(data => console.log("Lista de pessoas:", data))
.catch(error => console.error("Erro no GET:", error));

function cadastrar() {
var token = "token seu";
// Exemplo de requisição POST para adicionar uma nova pessoa
fetch("https://crudcrud.com/api/"+token+"/pessoas", {
// metodo de requisição (get, post, put, delete)
method: "POST",
// cabeçalho da requisição(tipo de conteudo, autorizações, etc...)
headers: {
"Content-Type": "application/json"
},
// corpo da requisição (dados que serão enviados)
body: JSON.stringify({
nome: document.getElementById('nome').value,
nascimento: document.getElementById('nascimento').value,
endereco: document.getElementById('endereco').value,
telefone: document.getElementById('telefone').value
})
})
.then(response => response.json())
.then(data => console.log("pessoa criado:", data))
.catch(error => console.error("Erro no POST:", error))
.finally(() => {
// redirecionar para a pagina inicial
// window.location.href = "index.php";
});
}

</script>